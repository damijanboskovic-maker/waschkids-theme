{% schema %}
{
  "name": "Unsere Marken",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Überschrift",
      "default": "Unsere Marken"
    }
  ],
  "blocks": [
    {
      "type": "brand",
      "name": "Marke",
      "settings": [
        {
          "type": "image_picker",
          "id": "logo",
          "label": "Markenlogo"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link zur Marke"
        },
        {
          "type": "text",
          "id": "alt",
          "label": "Alternativtext",
          "default": "Markenlogo"
        }
      ]
    }
  ],
  "max_blocks": 12,
  "presets": [
    {
      "name": "Unsere Marken",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<section class="unsere-marken-section">
  <div class="brand-container">
    {% if section.settings.heading != blank %}
      <h2 style="font-size: 24px; font-weight: 600; margin-bottom: 30px;">
        {{ section.settings.heading }}
      </h2>
    {% endif %}

    <div class="brand-grid">
      {% for block in section.blocks %}
        {% if block.settings.logo != blank %}
          <a href="{{ block.settings.link }}" class="brand-card" target="_blank" rel="noopener" {{ block.shopify_attributes }}>
            <img src="{{ block.settings.logo | image_url }}" alt="{{ block.settings.alt | escape }}">
          </a>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

<style>
  * {
    box-sizing: border-box;
  }

  .unsere-marken-section {
    padding: 40px 1.5rem; /* genau 1.5rem links & rechts */
  }

  .brand-container {
    max-width: 1800px;
    width: 100%;
    margin: 0 auto;
    /* Kein zusätzliches Padding hier! */
  }

  .brand-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    width: 100%;
  }

  .brand-card {
    background: white;
    padding: 2px 12px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
    display: flex;
    align-items: center;
    justify-content: center;
    height: 120px;
    aspect-ratio: 2 / 1;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    text-decoration: none;
    width: 100%;
  }

  .brand-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.2);
  }

  .brand-card img {
    width: 100%;
    height: 90%;
    object-fit: contain;
  }

  @media (max-width: 1024px) {
    .brand-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
    }

    .brand-card {
      height: 100px;
      aspect-ratio: 2.2 / 1;
    }

    .brand-card img {
      height: 85%;
    }
  }

  @media (max-width: 600px) {
    .brand-grid {
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
    }

    .brand-card {
      height: 80px;
      aspect-ratio: 2 / 1;
      padding: 2px 8px;
    }

    .brand-card img {
      height: 80%;
    }
  }
</style>
